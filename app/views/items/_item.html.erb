<div class="list-group-item d-flex justify-content-between align-items-center"
     style="view-transition-name: item-<%= item.id %>">
  <div class="d-flex align-items-center gap-2 flex-grow-1">
    <%= form_with model: [item.list, item], class: "d-inline" do |f| %>
      <%= f.check_box :completed,
                      class: "form-check-input",
                      onchange: "this.form.requestSubmit()" %>
    <% end %>
    <span class="<%= 'item-completed' if item.completed? %>">
      <%= item.title %>
    </span>
  </div>

  <div class="btn-group btn-group-sm" role="group">
    <%= link_to item.completed? ? "Undo" : "Done",
                list_item_path(item.list, item, item: { completed: !item.completed? }),
                data: { turbo_method: :patch },
                class: "btn btn-outline-secondary" %>

    <%= link_to "Edit", edit_list_item_path(item.list, item), class: "btn btn-outline-primary" %>

    <%= link_to "Delete",
                list_item_path(item.list, item),
                data: { turbo_method: :delete, turbo_confirm: "Delete this item?" },
                class: "btn btn-outline-danger" %>
  </div>
</div>
